<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/public/assets/css/login.css" />
    <link rel="stylesheet" href="/public/assets/css/manageStudent.css" />
    <title>Purchase History</title>
  </head>
  <body>
    <div class="addModal">
      <div class="add_popup">
        <div class="close"><i class="fas fa-times delete"></i></div>
        <div><p class="error"></p></div>
        <form class="form addStudent">
          <!-- <input type="email" name="email" class="input" placeholder="Email" /> -->
          <input
            list="user"
            name="user"
            class="user input"
            placeholder="Select User"
          />
          <datalist id="user">
            <option value="me"></option>
            <option value="some"></option>
          </datalist>
          <!-- <input
            type="text"
            name="course"
            class="input course"
            placeholder="course"
          /> -->
          <input
            list="course"
            name="course"
            class="course input"
            placeholder="Select Course"
          />
          <datalist id="course">
            <option value="Go"></option>
            <option value="Django"></option>
          </datalist>
          <input
            type="date"
            name="boughtAt"
            class="input boughtAt"
            placeholder="Purchased At"
          />
          <input
            type="date"
            name="expireAt"
            class="input expireAt"
            placeholder="Expire At"
          />

          <button class="button" type="submit">ADD</button>
        </form>
      </div>
    </div>
    <div class="editModal">
      <div class="edit_popup">
        <div class="close"><i class="fas fa-times delete"></i></div>
        <div><p class="error"></p></div>
        <form class="form editForm">
          <!-- <input type="email" name="email" class="input" placeholder="Email" /> -->
          <input
            list="user"
            name="user"
            class="user"
            placeholder="Select User"
          />
          <datalist id="user">
            <option value="me"></option>
            <option value="some"></option>
          </datalist>
          <input
            type="text"
            name="course"
            class="input course"
            placeholder="course"
          />
          <input
            type="date"
            name="boughtAt"
            class="input boughtAt"
            placeholder="Purchased At"
          />
          <input
            type="date"
            name="expireAt"
            class="input expireAt"
            placeholder="Expire At"
          />

          <button class="button">EDIT</button>
        </form>
      </div>
    </div>
    <nav>
      <ul>
        <li>
          <a href="#" style="text-transform: none; font-size: 2rem">ooBlue</a>
        </li>

        <li class="left">
          <a href="#" class="addModalButton" data-type="manageStudent"
            >Add Subscription</a
          >
        </li>
        <li><a href="" class="logout">Logout</a></li>
      </ul>
    </nav>

    <header>
      <div class="heading">Purchase History</div>
      <div>
        <a class="download" style="display: none"></a>
        <a class="export"> <i class="fas fa-download download"></i>Export </a>
      </div>
    </header>

    <div class="searchContainer">
      <div class="search-input">
        <input
          type="search"
          class="search"
          placeholder="Search by name or email"
        />
      </div>
    </div>
    <!-- <div class="studentCount">
      <h1>Total Students: <span class="no">2</span></h1>
    </div> -->
    <main class="studentContainer">
      <div class="studentWrap">
        <section class="studentHeader">
          <div>#</div>
          <!-- <div>Name</div> -->
          <div>Email</div>
          <div>Course</div>
          <div>Purchased At</div>
          <div>Expires At</div>
          <!-- <div>Expired</div> -->
          <div>Edit</div>
        </section>
        <section class="studentDetail"></section>
      </div>
    </main>
    <template>
      <div class="detailHeader">
        <div class="index no"></div>
        <div class="name"></div>
        <div class="email"></div>
        <div class="joined no"></div>
        <div>
          <i class="far fa-edit edit editModalButton"></i>
          <i class="fas fa-trash-alt delete"></i>
          <i class="fas fa-copy copy"></i>
        </div>
      </div>
    </template>
    <script src="/public/assets/js/modal.js"></script>
    <script src="/public/assets/js/alert.js"></script>
    <script src="/public/assets/js/purchaseHistory.js"></script>
    <script>
      document.querySelector('.logout').addEventListener('click', () => {
        console.log('click');
        fetch('/api/v1/auth/logout')
          .then((res) => {
            if (res.redirected) {
              window.location = res.url;
            }
          })
          .catch((e) => console.log(e));
      });
    </script>
  </body>
</html>
